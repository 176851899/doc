(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{410:function(t,s,a){t.exports=a.p+"assets/img/echarts_1.8c3f9110.png"},411:function(t,s,a){t.exports=a.p+"assets/img/echarts_2.c9de343d.png"},412:function(t,s,a){t.exports=a.p+"assets/img/component_1.82c70c46.png"},413:function(t,s,a){t.exports=a.p+"assets/img/component_2.9295c3fd.png"},414:function(t,s,a){t.exports=a.p+"assets/img/component_3.f10b76a3.png"},415:function(t,s,a){t.exports=a.p+"assets/img/component_4.0c131f7b.png"},515:function(t,s,a){"use strict";a.r(s);var n=a(56),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"怎样开发一个大屏"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#怎样开发一个大屏"}},[t._v("#")]),t._v(" 怎样开发一个大屏")]),t._v(" "),n("h2",{attrs:{id:"开发前的准备工作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#开发前的准备工作"}},[t._v("#")]),t._v(" 开发前的准备工作")]),t._v(" "),n("h3",{attrs:{id:"确定大屏需适配的分辨率"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#确定大屏需适配的分辨率"}},[t._v("#")]),t._v(" 确定大屏需适配的分辨率")]),t._v(" "),n("p",[t._v("不同的大屏项目有不同的分辨率要求，我们需要根据项目经理制定的项目具体要求去适配所需的分辨率。此外，一些项目只要求适配一种分辨率即可，那我们可以将页面大小固定之后开发。如果要求能适配多种分辨率，我们就需要制定大屏适配方案去达成这一目的（详细请看"),n("a",{attrs:{href:"#adapter"}},[t._v("大屏适配")]),t._v("板块）。")]),t._v(" "),n("h3",{attrs:{id:"确定原型中页面元素的展示、交互效果"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#确定原型中页面元素的展示、交互效果"}},[t._v("#")]),t._v(" 确定原型中页面元素的展示、交互效果")]),t._v(" "),n("p",[t._v("一个项目产品最能给予用户反馈的首先就是页面的展示效果，这一点在数据可视化大屏的开发中更为凸显。原型图主要用于和领导或目标客户确认软件的最终呈现效果。原型图可以生动的展示最终效果并支持初步的模拟操作和测试，因此可以用于验证软件设计理念，以及接收修改意见和设计缺陷反馈。开发人员根据原型图可以直观的看到客户想要怎样的页面元素效果、交互效果，根据原型图进行页面开发能更趋近于用户的要求，达到用户的理想效果。")]),t._v(" "),n("h3",{attrs:{id:"确定数据与可视化元素之间的关系"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#确定数据与可视化元素之间的关系"}},[t._v("#")]),t._v(" 确定数据与可视化元素之间的关系")]),t._v(" "),n("p",[t._v("通过大屏展示的数据都是后端人员传给我们的真实存在的数据，每个数据都有其意义，我们需要弄清数据和可视化元素之间的关系，有助于组件的封装。有时候给到我们的数据不一定是我们想要的数据格式，这时候我们需要先和后端人员沟通，确定传给我们的数据是怎样的，再将数据处理为我们想要的数据通过可视化元素展现到页面上。这一步可以防止因为数据格式不统一造成的开发效率降低。")]),t._v(" "),n("h3",{attrs:{id:"确定多页面之间的交互"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#确定多页面之间的交互"}},[t._v("#")]),t._v(" 确定多页面之间的交互")]),t._v(" "),n("p",[t._v("许多大屏项目中包含多个页面，这些页面之间可能存在交互，可能有共有数据，可能有参数传递，可能有路由跳转，我们需要清楚多页面间的交互逻辑是怎样的，这一步不仅有利于我们对于组件的封装，同样有利于我们划分项目结构。")]),t._v(" "),n("h3",{attrs:{id:"了解项目目录结构"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#了解项目目录结构"}},[t._v("#")]),t._v(" 了解项目目录结构")]),t._v(" "),n("p",[t._v("不同的项目有不同的项目目录结构，将各类文件存放在正确的文件目录中，不仅有利于我们的开发，更有利于项目的后续维护。一个项目开发者众多，大家都有各自的习惯，那我们怎样让大家达成一个共识呢？这时候就需要制定一个共同的约束去规范项目结构，需要每一个项目开发者去遵守，来保证目录结构的统一化、可读性、分模块、组件构建，禁止构建杂乱无章、毫无可读性而言的项目目录。")]),t._v(" "),n("h2",{attrs:{id:"大屏开发常用技术"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#大屏开发常用技术"}},[t._v("#")]),t._v(" 大屏开发常用技术"),n("font",{attrs:{id:"adapter"}})],1),t._v(" "),n("h3",{attrs:{id:"大屏适配"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#大屏适配"}},[t._v("#")]),t._v(" 大屏适配")]),t._v(" "),n("h4",{attrs:{id:"利用-css-的-transform-属性以及设计百分比以及-scal-方法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#利用-css-的-transform-属性以及设计百分比以及-scal-方法"}},[t._v("#")]),t._v(" 利用 css 的 transform 属性以及设计百分比以及 scal（）方法")]),t._v(" "),n("p",[t._v("创建一个 ScreenAdapter.vue 文件，将下面代码复制到 ScreenAdapter.vue 文件中")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('<template>\n  <div class="screen-adapter">\n    <div class="content-wrap" :style="style">\n      <slot />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \'ScreenAdapter\',\n  data() {\n    return {\n      style: {\n        width: `${this.w}px`,\n        height: `${this.h}px`,\n        transform: \'scale(1) translate(-50%, -50%)\', // 默认不缩放，垂直水平居中\n      },\n    };\n  },\n  props: {\n    w: { // 设计图尺寸宽\n      type: Number,\n      default: 1920,\n    },\n    h: { // 设计图尺寸高\n      type: Number,\n      default: 1080,\n    },\n  },\n  mounted() {\n    this.setScale();\n    this.onresize = this.debounce(() => this.setScale(), 100);\n    window.addEventListener(\'resize\', this.onresize);\n  },\n  methods: {\n    // 防抖\n    debounce(fn, t) {\n      const delay = t || 500;\n      let timer;\n      // eslint-disable-next-line func-names\n      return function () {\n        // eslint-disable-next-line prefer-rest-params\n        const args = arguments;\n        if (timer) {\n          clearTimeout(timer);\n        }\n        const context = this;\n        timer = setTimeout(() => {\n          timer = null;\n          fn.apply(context, args);\n        }, delay);\n      };\n    },\n    // 获取缩放比例\n    getScale() {\n      console.log(window.innerHeight, window.innerWidth);\n      const w = window.innerWidth / this.w;\n      const h = window.innerHeight / this.h;\n      return w < h ? w : h;\n    },\n    // 设置缩放比例\n    setScale() {\n      this.style.transform = `scale(${this.getScale()}) translate(-50%, -50%)`;\n    },\n  },\n  beforeDestroy() {\n    window.removeEventListener(\'resize\', this.onresize);\n  },\n};\n<\/script>\n\n<style lang="less">\n.screen-adapter {\n  width: 100vw;\n  min-height: 100%;\n  max-height: 100vh;\n  overflow: hidden;\n  background: url("../../assets/charts/icon-bg.png") no-repeat;\n  background-size: 100% 100%;\n\n  .content-wrap {\n    transform-origin: 0 0;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    padding: 18px 64px;\n  }\n}\n</style>\n')])])]),n("p",[t._v("在想要适配分辨率的页面中引入该 ScreenAdapter.vue 组件,将页面元素放入 ScreenAdapter 组件即可。此时无论我们怎样缩放页面，页面元素都会自适应页面大小。")]),t._v(" "),n("h3",{attrs:{id:"图表使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#图表使用"}},[t._v("#")]),t._v(" 图表使用")]),t._v(" "),n("h4",{attrs:{id:"安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("npm install echarts --save\n")])])]),n("h4",{attrs:{id:"引入"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#引入"}},[t._v("#")]),t._v(" 引入")]),t._v(" "),n("p",[t._v("引入方法一： 全局引入")]),t._v(" "),n("p",[t._v("main.js 页面")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("import echarts from 'echarts'\nVue.prototype.$echarts = echarts\n")])])]),n("p",[t._v("引入方法二： 按需引入")]),t._v(" "),n("p",[t._v("需要用到 echarts 的图表页面")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("import echarts from 'echarts'\n")])])]),n("h4",{attrs:{id:"初始化图表实例"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#初始化图表实例"}},[t._v("#")]),t._v(" 初始化图表实例")]),t._v(" "),n("ol",[n("li",[t._v("在绘图前需要为 echarts 准备一个定义了宽高的 DOM 容器")])]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ref")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("pie"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token special-attr"}},[n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("style")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),n("span",{pre:!0,attrs:{class:"token value css language-css"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 600px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("400px")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("ol",{attrs:{start:"2"}},[n("li",[t._v("通过 echarts.init 方法初始化一个 echarts 实例")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 全局引入初始化实例方式")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myChart "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$echarts"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$refs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pie"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 按需引入初始化实例方式")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myChart "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" echarts"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$refs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pie"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("ol",{attrs:{start:"3"}},[n("li",[t._v("指定配置项和数据（option）")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" option "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("title")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("text")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"echarts 入门示例"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("legend")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"销量"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("xAxis")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"衬衫"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"羊毛衫"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"雪纺衫"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"裤子"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"高跟鞋"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"袜子"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("yAxis")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("series")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"销量"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bar"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("36")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("ol",{attrs:{start:"4"}},[n("li",[t._v("将配置项设置给 echarts 实例对象")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("myChart"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setOption")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("option"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[n("strong",[t._v("效果图")]),t._v("如下：")]),t._v(" "),n("p",[n("img",{attrs:{src:a(410),alt:"bigscreen ways"}})]),t._v(" "),n("p",[t._v("那么上面 option 配置项里各自配置的是哪个板块呢？")]),t._v(" "),n("p",[n("code",[t._v("title")]),t._v("：标题组件，包含主标题和副标题"),n("br"),t._v(" "),n("code",[t._v("legend")]),t._v("：图例组件"),n("br"),t._v(" "),n("code",[t._v("xAxis")]),t._v("：直角坐标系 grid 中的 x 轴"),n("br"),t._v(" "),n("code",[t._v("yAxis")]),t._v("：直角坐标系 grid 中的 y 轴"),n("br"),t._v(" "),n("code",[t._v("series")]),t._v("：图表数据")]),t._v(" "),n("p",[n("img",{attrs:{src:a(411),alt:"bigscreen ways"}})]),t._v(" "),n("p",[t._v("echarts 的配置项还远远不止这些，想要通过 echarts 绘制出不同样式的图表，需要在练习过程中不断熟悉这些配置项。下面给出 echarts 官方文档，可查询 echarts 配置项和 API，供大家查阅学习。")]),t._v(" "),n("p",[n("strong",[t._v("echarts 配置项文档：")]),n("br"),t._v(" "),n("a",{attrs:{href:"https://echarts.apache.org/zh/option.html#title",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://echarts.apache.org/zh/option.html#title"),n("OutboundLink")],1),n("br"),t._v(" "),n("strong",[t._v("echarts API 文档：")]),n("br"),t._v(" "),n("a",{attrs:{href:"https://echarts.apache.org/zh/api.html#echarts",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://echarts.apache.org/zh/api.html#echarts"),n("OutboundLink")],1)]),t._v(" "),n("h3",{attrs:{id:"组件封装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#组件封装"}},[t._v("#")]),t._v(" 组件封装")]),t._v(" "),n("p",[t._v("大屏项目中页面风格趋于一致，所以许多页面元素可以重复利用，只需要更换其内部数据即可。为了提高页面开发效率，我们通常会将这些可重复使用的页面元素封装成组件。需要将哪些页面元素封装成组件，则需根据具体页面情况而定。")]),t._v(" "),n("p",[t._v("如大屏适配中的 "),n("strong",[t._v("ScreenAdapter.vue")]),t._v("，本质就是一个"),n("strong",[t._v("公用组件")]),t._v("。项目中的页面一般来说都需要进行统一适配，所以在我们的每个页面中都需要引入 "),n("strong",[t._v("ScreenAdapter.vue 组件")]),t._v("。")]),t._v(" "),n("p",[t._v("此外，如页面标题、板块小标题、echarts 图表等板块，都可根据项目实际情况进行组件封装。")]),t._v(" "),n("p",[n("img",{attrs:{src:a(412),alt:"bigscreen ways"}})]),t._v(" "),n("p",[t._v("但各板块肯定不会完全相同，可能存在文本、颜色、图片等元素的差异，这时候我们就需要将这些特殊的数据提取出来，让组件调用者自行定制其中的内容。例如下面的 echarts 饼图组件的封装：")]),t._v(" "),n("p",[n("img",{attrs:{src:a(413),alt:"bigscreen ways"}})]),t._v(" "),n("p",[t._v("下面是 echarts 饼图组件中提取出的可定制化元素，通过 "),n("strong",[t._v("props 接收父组件传递给该子组件的定制化数据")]),t._v("并通过图表展示")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("props: {\n    pData: {\n      type: Array,\n      default: () => [\n        {\n          name: '男性',\n          value: 2456578\n        },\n        {\n          name: '女性',\n          value: 2456578\n        }\n      ]\n    },\n    color: {\n      type: Array,\n      default: () => ['#0590fc', '#ff2b85']\n    },\n    bgImgName: {\n      type: String,\n      default: '性别.png'\n    },\n    bgImgWidth: {\n      type: Number,\n      default: 65\n    },\n    bgImgHeight: {\n      type: Number,\n      default: 80\n    },\n    unit: {\n      type: String,\n      default: '人'\n    }\n  }\n")])])]),n("p",[n("img",{attrs:{src:a(414),alt:"bigscreen ways"}})]),t._v(" "),n("p",[n("img",{attrs:{src:a(415),alt:"bigscreen ways"}})]),t._v(" "),n("p",[t._v("这样，我们就可以在组件中定制想要的元素内容了")]),t._v(" "),n("h3",{attrs:{id:"数据模拟"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#数据模拟"}},[t._v("#")]),t._v(" 数据模拟")]),t._v(" "),n("p",[t._v("在大屏开发过程中，难免会遇到我们的前端页面已经写好，但是后端接口还没有的情况，但我们又需要数据去测试、展示页面元素，这时候我们就需要去模拟数据。这里推荐使用 "),n("strong",[t._v("Mock.js 模拟数据生成器")]),t._v("。")]),t._v(" "),n("p",[t._v("Mock.js 基础使用："),n("a",{attrs:{href:"https://www.cnblogs.com/laine001/p/9779288.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.cnblogs.com/laine001/p/9779288.html"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("Mock.js 官网："),n("a",{attrs:{href:"http://mockjs.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://mockjs.com/"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("Mock.js 文档："),n("a",{attrs:{href:"http://mockjs.com/0.1/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://mockjs.com/0.1/"),n("OutboundLink")],1)]),t._v(" "),n("h2",{attrs:{id:"常见效果与实现"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#常见效果与实现"}},[t._v("#")]),t._v(" 常见效果与实现")]),t._v(" "),n("p",[n("strong",[t._v("echarts 常见效果示例：")]),n("br"),t._v(" "),n("a",{attrs:{href:"https://echarts.apache.org/examples/zh/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://echarts.apache.org/examples/zh/index.html"),n("OutboundLink")],1),n("br"),t._v(" "),n("a",{attrs:{href:"https://www.isqqw.com/#/homepage",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.isqqw.com/#/homepage"),n("OutboundLink")],1),n("br"),t._v(" "),n("a",{attrs:{href:"http://ppchart.com/#/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://ppchart.com/#/"),n("OutboundLink")],1),n("br"),t._v(" "),n("a",{attrs:{href:"http://analysis.datains.cn/finance-admin/#/chartLib/all",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://analysis.datains.cn/finance-admin/#/chartLib/all"),n("OutboundLink")],1)]),t._v(" "),n("h2",{attrs:{id:"开发注意事项"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#开发注意事项"}},[t._v("#")]),t._v(" 开发注意事项")]),t._v(" "),n("h3",{attrs:{id:"内存溢出问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#内存溢出问题"}},[t._v("#")]),t._v(" 内存溢出问题")]),t._v(" "),n("p",[t._v("一些大屏项目页面众多，每点击一个页面都会创建数个 echarts 图表实例，点击页面过多时，可能会造成内存溢出问题，所以在离开页面之前，最好对已创建的 echarts 图表实例进行销毁。")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//销毁图表实例，防止内存溢出")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeDestroy")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myCharts "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" echarts"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInstanceByDom")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$refs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pie"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myChart "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    myCharts"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispose")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),n("h3",{attrs:{id:"echarts-中出现-tooltip-时页面相对定位布局出现抖动"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#echarts-中出现-tooltip-时页面相对定位布局出现抖动"}},[t._v("#")]),t._v(" echarts 中出现 tooltip 时页面相对定位布局出现抖动")]),t._v(" "),n("p",[n("strong",[t._v("原因：")]),t._v("\n在 echarts 图表中出现 tooltip 时，画布的父标签（即：echarts.init()的标签）的有时宽高都会发生变化，导致相对布局的 div 可能大小发生变化（画布大小却不变），导致页面闪动。")]),t._v(" "),n("p",[n("strong",[t._v("解决：")]),t._v("\n在该画布的父标签（即：echarts.init()的标签）外层套一个 div，设置 overflow:hidden；然后，设置 tooltip 的 confine：true;(设置 tooltip 不超出图表)。")]),t._v(" "),n("h3",{attrs:{id:"异步请求数据传入组件时-echarts-图表不显示-不停接收传入的数据并实时更新图表"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#异步请求数据传入组件时-echarts-图表不显示-不停接收传入的数据并实时更新图表"}},[t._v("#")]),t._v(" 异步请求数据传入组件时 echarts 图表不显示(不停接收传入的数据并实时更新图表)")]),t._v(" "),n("p",[n("strong",[t._v("原因：")]),t._v("\n在异步请求的数据传入组件之前，echarts 图表实例已经创建")]),t._v(" "),n("p",[n("strong",[t._v("解决：")]),t._v("\n在 watch 中监听传入的数据，在数据变化后再初始化 echarts 实例")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("watch")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 判断数据变化，实时更新图表(pieData为传入数据)")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("pieData")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("newValue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" oldValue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取已有echarts实例的DOM节点")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" myChart "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" echarts"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInstanceByDom")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$refs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pie"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 判断是否创建实例")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myChart "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        myChart "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" echarts"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$refs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pie"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" options "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("initOptions")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      myChart"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setOption")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),n("h3",{attrs:{id:"更多问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#更多问题"}},[t._v("#")]),t._v(" 更多问题")]),t._v(" "),n("p",[t._v("更多常见问题："),n("a",{attrs:{href:"https://echarts.apache.org/zh/faq.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://echarts.apache.org/zh/faq.html"),n("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);